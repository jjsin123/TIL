# Python Numpy 심화-1

Author: jk s
Category: Python
Created Time: 2022년 11월 22일 오전 9:41
Main Category: Language
Status: 🖨 Published
Tags: 심화, 학습
Updated Time: 2022년 11월 22일 오전 10:30

## 학습 환경

---

Jupyter Notebook, Google Colab

## Numpy 특징

---

- Numerical Python의 약자
- 고성능 과학 계산용 패키지로 강력한 N차원 배열 객체
- 범용적 데이터 처리에 사용 가능한 다차원 컨테이너
- 정교한 브로드캐스팅(broadcasting) 기능
- 파이썬의 자료형 list와 비슷하지만, 더 빠르고 메모리를 효율적으로 관리
- 반복문 없이 데이터 배열에 대한 처리를 지원하여 빠르고 편리
- 데이터 과학 도구에 대한 생태계의 핵심을 이루고 있음

```python
import numpy as np
np.__version__ # 버전 확인

# 1.21.6
```

## 배열 생성

### 리스트로 배열 만들기

---

```python
# 예제

a = np.array([
     [[1,2,3],[4,5,6],[7,8,9]],
     [[10,11,12],[13,14,15],[16,17,18]]
    ])
print(a)
print(type(a))
print(a.shape)
print(a[0,1,1],a[1,1,1]) # index 접근
'''
[[[ 1  2  3]
  [ 4  5  6]
  [ 7  8  9]]

 [[10 11 12]
  [13 14 15]
  [16 17 18]]]
<class 'numpy.ndarray'>
(2, 3, 3)
5 14
'''
```

### 배열 생성 및 초기화

---

- `zeros()` : 모든 요소를 0으로 초기화
- `ones()` : 모든 요소를 1로 초기화
- `full()` : 모든 요소를 지정한 값으로 초기화
- `eye()` : 단위행렬(identity matrix) 생성
    - 주대각선의 원소가 모두 1이고 나머지 원소는 모두 0인 정사각 행렬
- `tri()` : 삼각행렬 생성
- `empty()` : 초기화되지 않은 배열 생성
    - 초기화가 없어서 배열 생성비용 저렴하고 빠름
    - 초기화되지 않아서 기존 메모리 위치에 존재하는 값이 있음
- `_like()` : 지정된 배열과 shape가 같은 행렬 생성
    - `np.zeros_like()`
    - `np.ones_like()`
    - `np.full_like()`
    - `np.empty_like()`

```python
# 배열 생성 및 초기화 예제

np.zeros(10) # 모든 요소 0 초기화
# array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])

np.ones(10) # 모든 요소 1 초기화
np.ones((3,4))
'''
array([[1., 1., 1., 1.],
       [1., 1., 1., 1.],
       [1., 1., 1., 1.]])
'''
np.full((3,4),3.14) # 모든 요소 지정값 초기화
'''
array([[3.14, 3.14, 3.14, 3.14],
       [3.14, 3.14, 3.14, 3.14],
       [3.14, 3.14, 3.14, 3.14]])
'''

np.eye(3) # 단위행렬
'''
array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])
'''

np.tri(3) # 삼각행렬
'''
array([[1., 0., 0.],
       [1., 1., 0.],
       [1., 1., 1.]])
'''

np.empty(10) # 초기화되지 않은 배열 생성
# array([1., 1., 1., 1., 1., 1., 1., 1., 1., 1.])

print(a1)
np.zeros_like(a1)  # a1과 같은 shape으로 0을 채워줌
'''
[4 5 6 4 5]
array([0, 0, 0, 0, 0])
'''
```

### 생성한 값으로 배열 생성

---

- `arange()` : 정수 범위로 배열 생성
- `linspace()` : 범위 내에서 균등 간격의 배열 생성
- `logspace()` : 범위 내에서 균등 간격으로 로그 스케일로 배열 생성

```python
# 생성값 배열생성 예제

np.arange(0,30,2)
# array([ 0,  2,  4,  6,  8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28])

np.linspace(0,1,10)
'''
array([0.        , 0.11111111, 0.22222222, 0.33333333, 0.44444444,
       0.55555556, 0.66666667, 0.77777778, 0.88888889, 1.        ])
'''

np.logspace(0.1,1,10)
'''
array([ 1.25892541,  1.58489319,  1.99526231,  2.51188643,  3.16227766,
        3.98107171,  5.01187234,  6.30957344,  7.94328235, 10.        ])
'''
```

### 랜덤값으로 배열 생성

---

- `random.random()` : 랜덤한 수의 배열 생성
- `random.randint()` : 일정 구간의 랜덤 정수의 배열 생성
- `random.normal()` : 정규분포(normal distribution)를 고려한 랜덤한 수의 배열 생성
- `random.rand()` : 균등분포(uniform distribution)를 고려한 랜덤한 수의 배열 생성
- `random.randn()` : 표준 정규 분포(standard normal distribution)를 고려한 랜덤한 수의 배열 생성

```python
# 랜덤 배열 생성 예제

np.random.random((4,3))
'''
array([[0.56826565, 0.25315622],
       [0.6898126 , 0.39936413],
       [0.07059424, 0.86718449]])
'''

np.random.randint(0,10,(4,3))  # 0부터 9까지
'''
array([[6, 5, 8],
       [5, 0, 8],
       [4, 8, 9],
       [5, 8, 7]])
'''

np.random.normal(0,1,(4,3))
'''
array([[ 0.82655479,  0.39446343, -1.9454396 ],
       [-0.85814033,  1.11465982,  0.38149577],
       [-0.39639647, -0.56614809,  0.56652612],
       [ 1.71370807,  1.16379644, -0.63028142]])
'''

np.random.rand(3,3)
'''
array([[0.70034615, 0.86333166, 0.99973703],
       [0.8908643 , 0.86028252, 0.41714627],
       [0.40292888, 0.74937132, 0.67114426]])
'''

np.random.randn(3,3)
'''
array([[ 0.2255946 , -0.37870522,  1.10712639],
       [-0.00703027,  1.53063075,  0.29009062],
       [-1.03980233,  0.23326561,  0.60184234]])
'''
```

### 표준 데이터 타입

---

![Untitled](https://user-images.githubusercontent.com/114375741/203194240-5b2b9b9c-ff9c-413e-a62a-57bbcdbcb327.png)

### 날짜/시간 배열 생성

---

```python
data = np.array('2022-01-01',dtype=np.datetime64)
data
# array('2022-01-01', dtype='datetime64[D]') # []안에 어떤 값을 넣는지에 따라 단위 지정 가능

data+np.arange(12)
'''
array(['2022-01-01', '2022-01-02', '2022-01-03', '2022-01-04',
       '2022-01-05', '2022-01-06', '2022-01-07', '2022-01-08',
       '2022-01-09', '2022-01-10', '2022-01-11', '2022-01-12'],
      dtype='datetime64[D]')
'''

datetime = np.datetime64('2022-10-10 15:30')
datetime
# numpy.datetime64('2022-10-10T15:30')

datetime = np.datetime64('2022-10-10 15:30:12.34','ns')
datetime
numpy.datetime64('2022-10-10T15:30:12.340000000')
```
